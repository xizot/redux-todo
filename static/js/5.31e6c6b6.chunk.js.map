{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","hooks/use-input.js","components/UI/Button.js","components/UI/Button.module.css","components/UI/Input.js","components/UI/Input.module.css","pages/Login/Login.module.css","pages/Login/Login.js"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","initialState","isTouched","inputStateReducer","state","action","type","useInput","validateFn","useReducer","inputState","dispatch","valueIsValid","hasError","isValid","valueInputChangeHandler","event","target","valueInputBlurHandler","inputResetHandler","Button","text","onClick","buttonConfig","buttonClasses","classes","button","alt","className","module","exports","Input","inputConfig","onInputBlur","onInputChange","errorMessage","autocompelete","inputClasses","control","invalid","htmlFor","id","label","onChange","onBlur","autoComplete","Login","props","isAuthenticated","useSelector","auth","isRequesting","errorResponse","useDispatch","isEmpty","usernameEntered","usernameHasError","usernameIsValid","usernameBlurHandler","usernameChangeHandler","isGreaterThreeCharacters","passwordEntered","passwordHasError","passwordIsValid","passwordBlurHandler","passwordChangeHandler","formIsValid","useEffect","authActions","resetError","to","login","onSubmit","preventDefault","username","password","form","disabled"],"mappings":"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","file":"static/js/5.31e6c6b6.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useReducer } from \"react\";\n\nconst initialState = {\n    value: \"\",\n    isTouched: false,\n};\n\nconst inputStateReducer = (state, action) => {\n    if (action.type === \"INPUT\") {\n        return { ...state, value: action.value };\n    }\n    if (action.type === \"BLUR\") {\n        return { ...state, isTouched: true };\n    }\n    if (action.type === \"RESET\") {\n        return initialState;\n    }\n    return initialState;\n};\nexport const useInput = (validateFn) => {\n    const [inputState, dispatch] = useReducer(inputStateReducer, initialState);\n    const valueIsValid = validateFn(inputState.value);\n    const hasError = inputState.isTouched && !valueIsValid;\n\n    const valueInputChangeHandler = (event) => {\n        dispatch({\n            type: \"INPUT\",\n            value: event.target.value,\n        });\n    };\n    const valueInputBlurHandler = () => {\n        dispatch({ type: \"BLUR\" });\n    };\n    const inputResetHandler = () => {\n        dispatch({ type: \"RESET\" });\n    };\n    return {\n        value: inputState.value,\n        isValid: valueIsValid,\n        hasError,\n        valueInputChangeHandler,\n        valueInputBlurHandler,\n        inputResetHandler,\n    };\n};\n","import classes from \"./Button.module.css\";\n\nconst Button = ({ text, onClick, buttonConfig }) => {\n    const buttonClasses = `${classes.button} ${\n        buttonConfig?.alt ? classes[\"button-alt\"] : \"\"\n    }`;\n\n    return (\n        <button onClick={onClick} {...buttonConfig} className={buttonClasses}>\n            {text}\n        </button>\n    );\n};\nexport default Button;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2jvWY\",\"button-alt\":\"Button_button-alt__3fYkt\"};","import classes from \"./Input.module.css\";\n\nconst Input = ({\n    inputConfig,\n    onInputBlur,\n    onInputChange,\n    hasError,\n    errorMessage,\n    autocompelete,\n}) => {\n    const inputClasses = `${classes.control} ${\n        hasError ? classes.invalid : \"\"\n    }`;\n    return (\n        <div className={inputClasses}>\n            <label htmlFor={inputConfig.id}>{inputConfig.label}</label>\n            <input\n                {...inputConfig}\n                onChange={onInputChange}\n                onBlur={onInputBlur}\n                autoComplete={autocompelete}\n            />\n            {hasError && <p>{errorMessage}</p>}\n        </div>\n    );\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__2JiEF\",\"invalid\":\"Input_invalid__3MFy8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__1v6vZ\",\"form\":\"Login_form__cO_HE\",\"up\":\"Login_up__rAgP7\",\"login-failed\":\"Login_login-failed__GiC8Q\",\"register-failed\":\"Login_register-failed__2Km_t\",\"register-succeeded\":\"Login_register-succeeded__3Yhi_\",\"another-actions\":\"Login_another-actions__3KXZz\"};","import { useEffect } from \"react\";\nimport classes from \"./Login.module.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport { login } from \"../../actions/auth-actions\";\nimport { authActions } from \"../../reducers/auth\";\nimport { useInput } from \"./../../hooks/use-input\";\nimport { isEmpty, isGreaterThreeCharacters } from \"./../../helpers/index\";\nimport Input from \"./../../components/UI/Input\";\nimport Button from \"./../../components/UI/Button\";\n\nconst Login = (props) => {\n    const isAuthenticated = useSelector((state) => state.auth.isAuthenticated);\n    const isRequesting = useSelector((state) => state.auth.isRequesting);\n    const errorResponse = useSelector((state) => state.auth.errorResponse);\n    const dispatch = useDispatch();\n    const {\n        value: usernameEntered,\n        hasError: usernameHasError,\n        isValid: usernameIsValid,\n        valueInputBlurHandler: usernameBlurHandler,\n        valueInputChangeHandler: usernameChangeHandler,\n    } = useInput(isEmpty);\n\n    const {\n        value: passwordEntered,\n        hasError: passwordHasError,\n        isValid: passwordIsValid,\n        valueInputBlurHandler: passwordBlurHandler,\n        valueInputChangeHandler: passwordChangeHandler,\n    } = useInput(isGreaterThreeCharacters);\n\n    const formIsValid = usernameIsValid && passwordIsValid;\n    const formSubmitHandler = (event) => {\n        event.preventDefault();\n        if (!formIsValid) {\n            return;\n        }\n\n        dispatch(\n            login({ username: usernameEntered, password: passwordEntered })\n        );\n    };\n    useEffect(() => {\n        dispatch(authActions.resetError());\n    }, [dispatch]);\n    if (isAuthenticated) return <Redirect to=\"/\" />;\n\n    return (\n        <div className={classes.login}>\n            <form onSubmit={formSubmitHandler} className={classes.form}>\n                <Input\n                    inputConfig={{\n                        type: \"text\",\n                        value: usernameEntered,\n                        label: \"User name\",\n                        id: \"username\",\n                    }}\n                    autocompelete=\"username\"\n                    onInputBlur={usernameBlurHandler}\n                    onInputChange={usernameChangeHandler}\n                    hasError={usernameHasError}\n                    errorMessage=\"Please enter a valid username (3 characters long)!\"\n                />\n                <Input\n                    inputConfig={{\n                        type: \"password\",\n                        value: passwordEntered,\n                        label: \"Password\",\n                        id: \"password\",\n                    }}\n                    autocompelete=\"current-password\"\n                    onInputBlur={passwordBlurHandler}\n                    onInputChange={passwordChangeHandler}\n                    hasError={passwordHasError}\n                    errorMessage=\"Please enter a valid password!\"\n                />\n                {errorResponse && (\n                    <p className={classes[\"login-failed\"]}>{errorResponse}</p>\n                )}\n                <div className=\"form-actions\">\n                    <Button\n                        buttonConfig={{\n                            disabled: !formIsValid,\n                            alt: \"true\",\n                        }}\n                        text={isRequesting ? \"Signing in...\" : \"Sign in\"}\n                    />\n                </div>\n                <div className={classes[\"another-actions\"]}>\n                    <Link to=\"/register\"> Create an account.</Link>\n                </div>\n            </form>\n        </div>\n    );\n};\nexport default Login;\n"],"sourceRoot":""}