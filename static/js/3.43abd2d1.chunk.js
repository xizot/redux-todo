(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[3],{75:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a(74),r=a(24),c=a(0),s={value:"",isTouched:!1},o=function(t,e){return"INPUT"===e.type?Object(r.a)(Object(r.a)({},t),{},{value:e.value}):"BLUR"===e.type?Object(r.a)(Object(r.a)({},t),{},{isTouched:!0}):(e.type,s)},i=function(t){var e=Object(c.useReducer)(o,s),a=Object(n.a)(e,2),r=a[0],i=a[1],u=t(r.value),l=r.isTouched&&!u;return{value:r.value,isValid:u,hasError:l,valueInputChangeHandler:function(t){i({type:"INPUT",value:t.target.value})},valueInputBlurHandler:function(){i({type:"BLUR"})},inputResetHandler:function(){i({type:"RESET"})}}}},76:function(t,e,a){"use strict";var n=a(24),r=a(77),c=a.n(r),s=a(1);e.a=function(t){var e=t.text,a=t.onClick,r=t.buttonConfig,o="".concat(c.a.button," ").concat((null===r||void 0===r?void 0:r.alt)?c.a["button-alt"]:"");return Object(s.jsx)("button",Object(n.a)(Object(n.a)({onClick:a},r),{},{className:o,children:e}))}},77:function(t,e,a){t.exports={button:"Button_button__2jvWY","button-alt":"Button_button-alt__3fYkt"}},81:function(t,e,a){t.exports={tasks:"Tasks_tasks__3d3TR","tasks-list":"Tasks_tasks-list__2xQOM","not-completed":"Tasks_not-completed__1s8IX",completed:"Tasks_completed__CXxF9",container:"Tasks_container__6k_iH","tasks-input":"Tasks_tasks-input__2Lyxj",invalid:"Tasks_invalid__1EpM8","text-helper":"Tasks_text-helper__rxgIR","no-task":"Tasks_no-task__1hrSH","loading-data":"Tasks_loading-data__9042Y"}},84:function(t,e,a){t.exports={"task-item":"TaskItem_task-item__86WYo",up:"TaskItem_up__26cew","check-box":"TaskItem_check-box__LbGYm",actions:"TaskItem_actions__LTM6W",icon:"TaskItem_icon__kDuDb",edit:"TaskItem_edit__2rENc",trash:"TaskItem_trash__1Svc8","is-done":"TaskItem_is-done__lqTqG"}},87:function(t,e,a){t.exports={backdrop:"Modal_backdrop__2OQxp",modal:"Modal_modal__1V9YM","slide-down":"Modal_slide-down__32lmt"}},88:function(t,e,a){t.exports={actions:"TaskEditModal_actions__3vnDP"}},91:function(t,e,a){"use strict";a.r(e);var n=a(74),r=a(81),c=a.n(r),s=a(75),o=a(25),i=a(0),u=a(84),l=a.n(u),d=a(86),p=a(85),b=a(11),j=a(4),h=a.n(j),v=a(12),f=a(18),k=a.n(f),x=a(10),m=a(32),O=a(1),_=function(t){var e=t.title,a=t.id,n=t.isDone,r=t.onShowEditModal,c=Object(b.b)(),s="".concat(l.a["task-item"]," ").concat(n?l.a["is-done"]:"");return Object(O.jsxs)("li",{className:s,children:[Object(O.jsx)("label",{htmlFor:a,className:l.a["check-box"],onClick:function(){c(function(t){var e=t.taskId,a=t.isDone;return function(){var t=Object(v.a)(h.a.mark((function t(n){var r,c,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(o.c)()){t.next=4;break}return Object(x.a)().push("/login"),t.abrupt("return");case 4:return c=function(){var t=Object(v.a)(h.a.mark((function t(){var c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.b.resetErrorState()),t.next=3,k.a.put("".concat("https://xizot-todo.herokuapp.com/api","/todo"),{taskId:e,isDone:!a},{headers:r});case 3:c=t.sent,s=c.data,n(m.b.updateComplete(s.data));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=5,t.next=8,c();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),i=(null===(s=t.t0.response)||void 0===s?void 0:s.message)||"Something went wrong!",n(m.b.taskErrorHandler(i));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}()}({taskId:a,isDone:n}))}}),Object(O.jsx)("p",{children:e}),Object(O.jsxs)("div",{className:l.a.actions,children:[Object(O.jsx)(p.a,{className:"".concat(l.a.icon," ").concat(l.a.edit),onClick:function(){r({title:e,id:a})}}),Object(O.jsx)(d.a,{className:"".concat(l.a.icon," ").concat(l.a.trash),onClick:function(){var t;c((t=a,function(){var e=Object(v.a)(h.a.mark((function e(a){var n,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(o.c)()){e.next=4;break}return Object(x.a)().push("/login"),e.abrupt("return");case 4:return r=function(){var e=Object(v.a)(h.a.mark((function e(){var r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(m.b.resetErrorState()),e.next=3,k.a.delete("".concat("https://xizot-todo.herokuapp.com/api","/todo/").concat(t),{headers:n});case 3:c=e.sent,s=c.data,a(m.b.removeTask(null===(r=s.data)||void 0===r?void 0:r.taskId));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=5,e.next=8,r();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),s=(null===(c=e.t0.response)||void 0===c?void 0:c.message)||"Something went wrong!",a(m.b.taskErrorHandler(s));case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()))}})]})]})},g=a(87),w=a.n(g),T=a(20),I=a.n(T),E=function(t){var e=t.onClose;return Object(O.jsx)("div",{className:w.a.backdrop,onClick:e})},C=function(t){var e=t.children;return Object(O.jsx)("div",{className:w.a.modal,children:Object(O.jsx)("div",{className:w.a.content,children:e})})},N=document.getElementById("overlayer"),y=function(t){var e=t.children,a=t.onClose;return Object(O.jsxs)(O.Fragment,{children:[I.a.createPortal(Object(O.jsx)(E,{onClose:a}),N),I.a.createPortal(Object(O.jsx)(C,{children:e}),N)]})},S=a(88),M=a.n(S),D=a(76),H=function(t){var e=t.id,a=t.title,r=t.onCloseEditModal,u=Object(i.useState)(!1),l=Object(n.a)(u,2),d=l[0],p=l[1],j=Object(s.a)(o.a),f=j.value,_=j.isValid,g=j.hasError,w=j.valueInputBlurHandler,T=j.valueInputChangeHandler,I=Object(b.b)(),E="".concat(c.a["tasks-input"]," ").concat(g?c.a.invalid:"");return Object(O.jsx)(y,{onClose:r,children:Object(O.jsxs)("form",{onSubmit:function(t){t.preventDefault(),_&&I(function(t){var e=t.taskId,a=t.title;return function(){var t=Object(v.a)(h.a.mark((function t(n){var r,c,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(o.c)()){t.next=4;break}return Object(x.a)().push("/login"),t.abrupt("return");case 4:return c=function(){var t=Object(v.a)(h.a.mark((function t(){var c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m.b.resetErrorState()),t.next=3,k.a.put("".concat("https://xizot-todo.herokuapp.com/api","/todo"),{taskId:e,title:a},{headers:r});case 3:c=t.sent,s=c.data,n(m.b.updateTitle(s.data));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=5,t.next=8,c();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),i=(null===(s=t.t0.response)||void 0===s?void 0:s.message)||"Something went wrong!",n(m.b.taskErrorHandler(i));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}()}({taskId:e,title:f}))},className:c.a.form,children:[Object(O.jsx)("input",{className:E,type:"text",value:!d&&a||f,onBlur:w,onChange:function(t){p(!0),T(t)}}),Object(O.jsx)("small",{className:c.a["text-helper"],children:"Edit task"}),Object(O.jsxs)("div",{className:M.a.actions,children:[Object(O.jsx)(D.a,{text:"Update",buttonConfig:{alt:"true"}}),Object(O.jsx)(D.a,{onClick:r,text:"Cancel",buttonConfig:{type:"button"}})]})]})})};e.default=function(t){var e=Object(b.c)((function(t){return t.tasks.notCompletedTasks})),a=Object(b.c)((function(t){return t.tasks.completedTasks})),r=Object(b.c)((function(t){return t.tasks.isShownModal})),u=Object(b.c)((function(t){return t.tasks.isFetchingData})),l=Object(i.useState)({id:null,title:null}),d=Object(n.a)(l,2),p=d[0],j=d[1],f=Object(b.b)(),g=Object(s.a)(o.a),w=g.value,T=g.isValid,I=g.hasError,E=g.valueInputBlurHandler,C=g.valueInputChangeHandler,N=g.inputResetHandler,y=function(t){var e=t.id,a=t.title;j((function(t){return{id:e,title:a}})),f(m.b.showModal())};Object(i.useEffect)((function(){f(function(){var t=Object(v.a)(h.a.mark((function t(e){var a,n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(o.c)()){t.next=4;break}return Object(x.a)().push("/login"),t.abrupt("return");case 4:return n=function(){var t=Object(v.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(m.b.fetchingData()),e(m.b.resetErrorState()),t.next=4,k.a.get("".concat("https://xizot-todo.herokuapp.com/api","/todo"),{headers:a});case 4:n=t.sent,r=n.data,e(m.b.replaceCurrentTasks(r));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=5,t.next=8,n();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),c=(null===(r=t.t0.response)||void 0===r?void 0:r.message)||"Something went wrong!",e(m.b.getTasksError({errorMessage:c}));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}())}),[f]);var S="".concat(c.a["tasks-input"]," ").concat(I?c.a.invalid:""),M=e.length?e.map((function(t){return Object(O.jsx)(_,{id:t.taskId,title:t.title,isDone:t.isDone,onShowEditModal:y},t.taskId)})):!a.length&&Object(O.jsx)("p",{className:c.a["no-task"],children:"You don't have any task to do"}),D=a.length?Object(O.jsxs)("div",{className:c.a.completed,children:[Object(O.jsx)("h3",{children:"COMPLETED"}),a.map((function(t,e){return Object(O.jsx)(_,{id:t.taskId,title:t.title,isDone:t.isDone,onShowEditModal:y},e)}))]}):Object(O.jsx)(O.Fragment,{});return Object(O.jsxs)(O.Fragment,{children:[r&&Object(O.jsx)(H,{id:p.id,title:p.title,onCloseEditModal:function(){f(m.b.closeModal())}}),Object(O.jsx)("div",{className:c.a.tasks,children:Object(O.jsxs)("div",{className:c.a.container,children:[Object(O.jsxs)("form",{onSubmit:function(t){var e;(t.preventDefault(),T)&&(f((e=w,function(){var t=Object(v.a)(h.a.mark((function t(a){var n,r,c,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(o.c)()){t.next=4;break}return Object(x.a)().push("/login"),t.abrupt("return");case 4:return r=function(){var t=Object(v.a)(h.a.mark((function t(){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(m.b.resetErrorState()),t.next=3,k.a.post("".concat("https://xizot-todo.herokuapp.com/api","/todo"),{title:e},{headers:n});case 3:r=t.sent,c=r.data,a(m.b.addTask(c.data));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=5,t.next=8,r();case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),s=(null===(c=t.t0.response)||void 0===c?void 0:c.message)||"Something went wrong!",a(m.b.taskErrorHandler(s));case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e){return t.apply(this,arguments)}}())),N())},children:[Object(O.jsx)("input",{className:S,type:"text",value:w,onBlur:E,onChange:C}),Object(O.jsx)("small",{className:c.a["text-helper"],children:"Add task"})]}),Object(O.jsx)("div",{className:c.a["tasks-list"],children:u?Object(O.jsx)("p",{className:c.a["loading-data"],children:"Loading Data..."}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:c.a["not-completed"],children:Object(O.jsx)("ul",{children:M})}),D]})})]})})]})}}}]);
//# sourceMappingURL=3.43abd2d1.chunk.js.map